<!DOCTYPE html>
<html lang="en" xmlns="http://www.w3.org/1999/xhtml" xmlns:sec="http://www.thymeleaf.org/thymeleaf-extras-springsecurity6">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>My Rabbits — MyRabbitry</title>
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Marcellus&family=Nunito:wght@400;600;700;800&display=swap"
        rel="stylesheet">
    <link rel="stylesheet" href="/css/styles.css">
    <link rel="icon" href="/images/logo.png">
    <link rel="stylesheet" href="/css/styles.css">
    <link rel="icon" href="/images/logo.png">
</head>

<body>
    <div class="dashboard">
        <aside class="sidebar">
            <div class="brand">
                <img src="/images/logo.png" alt="MyRabbitry logo" class="logo">
                <span class="brand-name">MyRabbitry</span>
            </div>
            <ul class="nav-list">
                <li><a href="/dashboard">Profile</a></li>
                <li><a href="/my-rabbits" class="active">My Rabbits</a></li>
                <li><a href="/overview">Overview</a></li>
                <li><a href="/pregnancies">Maternity Ward</a></li>
                <li><a href="/pregnancies/details">Pregnancy Reports</a></li>
                <li><a href="/family-tree">Family Tree</a></li>
                <li><a href="/subscriptions">Subscription</a></li>
                <li sec:authorize="hasRole('ADMIN')"><a href="/admin/panel">Admin Panel</a></li>
                <li><a href="/logout" id="logoutBtn">Log out</a></li>
            </ul>
        </aside>
        <main class="dash-main">
            <div class="info-box">
                <div class="info-box-header">
                    <h2>My Rabbits</h2>
                    <a href="/my-rabbits/new" class="btn btn-add-rabbit">＋ Add Rabbit</a>
                </div>

                <div th:class="${rabbits.isEmpty()} ? '' : 'rabbits-grid'" id="rabbitsGrid">
                    <div class="rabbit-card" th:each="rabbit : ${rabbits}">
                        <img th:src="${#strings.isEmpty(rabbit.photoUrl) ? '/images/logo.png' : rabbit.photoUrl}" alt="Rabbit Photo">
                        <div class="rabbit-card-content">
                            <h3 class="rabbit-name" th:text="${#strings.isEmpty(rabbit.name) ? 'n/a' : rabbit.name}">Snowball</h3>
                            <div class="rabbit-details" th:text="'Code: ' + ${rabbit.code} + ' • Breed: ' + ${#strings.isEmpty(rabbit.breed) ? 'n/a' : rabbit.breed}">Code: 37-dj • Breed: n/a</div>
                            <div class="rabbit-details" th:text="${#strings.isEmpty(rabbit.description) ? 'n/a' : rabbit.description}">description</div>
                            <div class="rabbit-details" th:text="'Birth date: ' + ${#strings.isEmpty(rabbit.birthDate) ? 'n/a' : #temporals.format(rabbit.birthDate, 'dd MMM yyyy')}">Birth date: 27 Oct 2021</div>
                            <div class="rabbit-details" th:text="'Colour: ' + ${rabbit.colour}">Colour: Brown, White</div>
                            <div class="rabbit-details" th:text="'Pattern: ' + ${rabbit.pattern}">Pattern: Brocken, Aguti</div>
                            <div class="rabbit-details" th:text="'Vaccinated on: ' + ${#strings.isEmpty(rabbit.vaccinatedOn) ? 'n/a' : #temporals.format(rabbit.vaccinatedOn, 'dd MMM yyyy')}">Vaccinated on: 26 Sept 2025</div>
                            <div class="rabbit-details" th:text="'Mother: ' + ${rabbit.mother == null ? 'n/a' : rabbit.mother.code} + ' • Father: ' + ${rabbit.father == null ? 'n/a' : rabbit.father.code}">Mother: 32-sp • Father: 92-ls</div>
                            <div class="rabbit-details" th:text="'Id: ' + ${rabbit.id}">Id: g143vb2-vb3v2jkp123kmsx8-7dc4hjvh3olsv56</div>
                            <div class="rabbit-tags">
                                <span class="rabbit-tag" th:text="${rabbit.sex.getDisplayName()}">Female</span>
                                <span class="rabbit-tag" th:text="${rabbit.eyeColour.getDisplayName()}">Blue eyes</span>
                                <span class="rabbit-tag" th:text="${rabbit.earShape.getDisplayName()}">Half-Lop ears</span>
                                <span class="rabbit-tag" th:text="${rabbit.coatLength.getDisplayName()}">short coat</span>
                                <span class="rabbit-tag" th:text="${rabbit.status.getDisplayName()}">For Breeding</span>
                            </div>
                        </div>
                    </div>
                    <div th:if="${rabbits.isEmpty()}" class="empty-rabbit-grid">
                        <p>You have no rabbits at the moment. To create one click ＋ Add Rabbit</p>
                    </div>
                </div>
            </div>
        </main>
    </div>
</body>

</html>