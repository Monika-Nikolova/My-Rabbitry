<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>My Rabbits</title>
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Marcellus&family=Nunito:wght@400;600;700;800&display=swap"
        rel="stylesheet">
    <link rel="stylesheet" href="/css/styles.css">
    <link rel="icon" href="/images/logo.png">
</head>

<body>
    <div class="auth-wrapper">
        <div class="auth-card payment-card">
            <div class="center-items">
                <h1 th:if="${transaction.status.equals('SUCCEEDED')}">Payment Successful</h1>
                <h1 th:if="${transaction.status.equals('FAILED')}">Payment Unsuccessful</h1>
                <svg th:if="${transaction.status.equals('SUCCEEDED')}" fill="#49db14" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg" stroke="#49db14">
                <g id="SVGRepo_bgCarrier" stroke-width="0"></g>
                <g id="SVGRepo_tracerCarrier" stroke-linecap="round" stroke-linejoin="round"></g>
                <g id="SVGRepo_iconCarrier">
                    <path
                        d="M12,2A10,10,0,1,0,22,12,10,10,0,0,0,12,2Zm5.676,8.237-6,5.5a1,1,0,0,1-1.383-.03l-3-3a1,1,0,1,1,1.414-1.414l2.323,2.323,5.294-4.853a1,1,0,1,1,1.352,1.474Z">
                    </path>
                </g>
                </svg>
                <svg th:if="${transaction.status.equals('FAILED')}" viewBox="0 0 32 32" version="1.1" xmlns="http://www.w3.org/2000/svg"
                     xmlns:xlink="http://www.w3.org/1999/xlink" xmlns:sketch="http://www.bohemiancoding.com/sketch/ns"
                     fill="#000000">
                    <g id="SVGRepo_bgCarrier" stroke-width="0"></g>
                    <g id="SVGRepo_tracerCarrier" stroke-linecap="round" stroke-linejoin="round"></g>
                    <g id="SVGRepo_iconCarrier">
                        <title>cross-circle</title>
                        <desc>Created with Sketch Beta.</desc>
                        <defs> </defs>
                        <g id="Page-1" stroke="none" stroke-width="1" fill="none" fill-rule="evenodd"
                           sketch:type="MSPage">
                            <g id="Icon-Set-Filled" sketch:type="MSLayerGroup"
                               transform="translate(-570.000000, -1089.000000)" fill="#c51616">
                                <path
                                        d="M591.657,1109.24 C592.048,1109.63 592.048,1110.27 591.657,1110.66 C591.267,1111.05 590.633,1111.05 590.242,1110.66 L586.006,1106.42 L581.74,1110.69 C581.346,1111.08 580.708,1111.08 580.314,1110.69 C579.921,1110.29 579.921,1109.65 580.314,1109.26 L584.58,1104.99 L580.344,1100.76 C579.953,1100.37 579.953,1099.73 580.344,1099.34 C580.733,1098.95 581.367,1098.95 581.758,1099.34 L585.994,1103.58 L590.292,1099.28 C590.686,1098.89 591.323,1098.89 591.717,1099.28 C592.11,1099.68 592.11,1100.31 591.717,1100.71 L587.42,1105.01 L591.657,1109.24 L591.657,1109.24 Z M586,1089 C577.163,1089 570,1096.16 570,1105 C570,1113.84 577.163,1121 586,1121 C594.837,1121 602,1113.84 602,1105 C602,1096.16 594.837,1089 586,1089 L586,1089 Z"
                                        id="cross-circle" sketch:type="MSShapeGroup"> </path>
                            </g>
                        </g>
                    </g>
                </svg>
            </div>
            <div class="message-row">
                <p>Amount Paid</p>
                <h3 th:text="${transaction.amount} + 'lv'">40lv</h3>
            </div>
            <div class="message-row">
                <p>Card Tier</p>
                <h3 th:text="${transaction.cardTier}">Mastercard</h3>
            </div>
            <div class="message-row">
                <p>Card Number</p>
                <h3 th:text="${transaction.cardTier.name() == 'AMERICAN_EXPRESS' ? '***********' + transaction.lastFourDigitsOfCardNumber : '************' + transaction.lastFourDigitsOfCardNumber}">***********1234</h3>
            </div>
            <div class="message-row">
                <p>Transaction id</p>
                <h3 th:text="${transaction.transactionId}">2563vbh3fh4g-gvb2e3r-fh2gb34n</h3>
            </div>
            <div th:if="${transaction.status.equals('FAILED')}" class="message-row">
                <p>Failure Reason</p>
                <h3 th:text="${transaction.failureReason}">Wrong card details</h3>
            </div>
            <form th:if="${transaction.status.equals('SUCCEEDED')}" th:action="@{'/subscriptions?period=' + ${period} + '&subscriptionType=' + ${subscriptionType}}" th:method="POST" class="center-items">
                <button type="submit" class="btn btn-primary">continue</button>
            </form>
            <form th:if="${transaction.status.equals('FAILED')}" th:action="@{/subscriptions}" th:method="GET" class="center-items">
                <button type="submit" class="btn btn-primary">continue</button>
            </form>
        </div>
    </div>
</body>

</html>